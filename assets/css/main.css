/* System Friction Framework — SF-Auditoría v2.0
   Identidad visual clínica. No modificar sin actualizar version. */

@import url('https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@0,400;0,500;0,600;1,400&family=JetBrains+Mono:wght@400;500&display=swap');

/* ── Variables ─────────────────────────────────────────────────── */
:root {
  --bg:          #0d0d0b;
  --surface:     #141410;
  --surface-2:   #1c1c18;
  --border:      #2a2a24;
  --accent:      #c9a84c;
  --accent-dim:  #8a6e2f;
  --text:        #e8e4d8;
  --text-dim:    #9a9488;
  --text-muted:  #5a5750;
  --ok:          #4a7c59;
  --ok-bg:       #0f1f14;
  --warn:        #8a6e2f;
  --warn-bg:     #1a1508;
  --crit:        #8a2e2e;
  --crit-bg:     #1a0808;
  --fracture:    #6b2d8b;
  --fracture-bg: #120818;
  --opaque:      #5a6e8a;
  --opaque-bg:   #0a0f18;
  --font-body:   'EB Garamond', Georgia, serif;
  --font-mono:   'JetBrains Mono', 'Courier New', monospace;
  --r:           3px;
  --transition:  160ms ease;
}

/* ── Reset ─────────────────────────────────────────────────────── */
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
html { font-size: 16px; scroll-behavior: smooth; }
body {
  background: var(--bg);
  color: var(--text);
  font-family: var(--font-body);
  font-size: 1.05rem;
  line-height: 1.75;
  min-height: 100vh;
}

/* ── Layout ─────────────────────────────────────────────────────── */
.sf-container {
  max-width: 1100px;
  margin: 0 auto;
  padding: 0 2rem;
}

/* ── Audit Nav ──────────────────────────────────────────────────── */
.audit-nav {
  background: var(--surface);
  border-bottom: 1px solid var(--border);
  padding: 0.6rem 0;
  position: sticky;
  top: 0;
  z-index: 100;
}
.audit-nav__inner {
  display: flex;
  align-items: center;
  gap: 0;
  max-width: 1100px;
  margin: 0 auto;
  padding: 0 2rem;
  flex-wrap: wrap;
}
.audit-nav__brand {
  font-family: var(--font-mono);
  font-size: 0.75rem;
  color: var(--accent);
  letter-spacing: 0.08em;
  text-decoration: none;
  margin-right: 2rem;
  white-space: nowrap;
}
.audit-nav__links {
  display: flex;
  gap: 0;
  list-style: none;
  flex-wrap: wrap;
}
.audit-nav__links a {
  display: block;
  padding: 0.3rem 0.9rem;
  font-family: var(--font-mono);
  font-size: 0.68rem;
  color: var(--text-dim);
  text-decoration: none;
  letter-spacing: 0.04em;
  border-right: 1px solid var(--border);
  transition: color var(--transition), background var(--transition);
}
.audit-nav__links a:first-child { border-left: 1px solid var(--border); }
.audit-nav__links a:hover,
.audit-nav__links a.active {
  color: var(--accent);
  background: var(--surface-2);
}
.audit-nav__ihg {
  margin-left: auto;
  font-family: var(--font-mono);
  font-size: 0.68rem;
  color: var(--crit);
  white-space: nowrap;
}

/* ── Page Header ──────────────────────────────────────────────── */
.sf-header {
  border-bottom: 1px solid var(--border);
  padding: 3rem 0 2rem;
  margin-bottom: 2.5rem;
}
.sf-header__kicker {
  font-family: var(--font-mono);
  font-size: 0.65rem;
  color: var(--accent);
  letter-spacing: 0.12em;
  text-transform: uppercase;
  margin-bottom: 0.75rem;
}
.sf-header h1 {
  font-size: 2rem;
  font-weight: 500;
  color: var(--text);
  line-height: 1.25;
  margin-bottom: 0.5rem;
}
.sf-header__meta {
  font-family: var(--font-mono);
  font-size: 0.65rem;
  color: var(--text-muted);
  display: flex;
  gap: 1.5rem;
  flex-wrap: wrap;
}

/* ── Content ────────────────────────────────────────────────────── */
.sf-content h2 {
  font-size: 1.2rem;
  font-weight: 600;
  color: var(--text);
  border-bottom: 1px solid var(--border);
  padding-bottom: 0.4rem;
  margin: 2.5rem 0 1rem;
}
.sf-content h3 {
  font-size: 1rem;
  font-weight: 600;
  color: var(--text-dim);
  margin: 1.8rem 0 0.6rem;
}
.sf-content p {
  margin-bottom: 1rem;
  color: var(--text);
}
.sf-content a { color: var(--accent); text-decoration: none; }
.sf-content a:hover { text-decoration: underline; }
.sf-content code {
  font-family: var(--font-mono);
  font-size: 0.82rem;
  background: var(--surface-2);
  border: 1px solid var(--border);
  padding: 0.1em 0.4em;
  border-radius: var(--r);
  color: var(--accent);
}
.sf-content pre {
  background: var(--surface-2);
  border: 1px solid var(--border);
  border-radius: var(--r);
  padding: 1.2rem;
  overflow-x: auto;
  margin: 1.2rem 0;
}
.sf-content pre code {
  background: none;
  border: none;
  padding: 0;
  font-size: 0.8rem;
  color: var(--text-dim);
}

/* ── Tables (sf-table) ──────────────────────────────────────────── */
.sf-content table,
.sf-table {
  width: 100%;
  border-collapse: collapse;
  font-family: var(--font-mono);
  font-size: 0.75rem;
  margin: 1.2rem 0;
}
.sf-content th,
.sf-table th {
  background: var(--surface-2);
  color: var(--accent);
  font-weight: 500;
  text-align: left;
  padding: 0.5rem 0.8rem;
  border-bottom: 1px solid var(--border);
  letter-spacing: 0.04em;
}
.sf-content td,
.sf-table td {
  padding: 0.45rem 0.8rem;
  border-bottom: 1px solid var(--border);
  color: var(--text-dim);
}
.sf-content tr:hover td,
.sf-table tr:hover td { background: var(--surface-2); }

/* ── Status Badges ──────────────────────────────────────────────── */
.badge {
  display: inline-block;
  font-family: var(--font-mono);
  font-size: 0.62rem;
  font-weight: 500;
  letter-spacing: 0.08em;
  padding: 0.15em 0.55em;
  border-radius: var(--r);
  text-transform: uppercase;
}
.badge--ok       { background: var(--ok-bg);       color: var(--ok);       border: 1px solid var(--ok); }
.badge--warn     { background: var(--warn-bg);     color: var(--warn);     border: 1px solid var(--warn); }
.badge--critical { background: var(--crit-bg);     color: var(--crit);     border: 1px solid var(--crit); }
.badge--fracture { background: var(--fracture-bg); color: var(--fracture); border: 1px solid var(--fracture); }
.badge--opaque   { background: var(--opaque-bg);   color: var(--opaque);   border: 1px solid var(--opaque); }
.badge--degraded { background: var(--warn-bg);     color: var(--warn);     border: 1px solid var(--warn); }
.badge--emergency{ background: var(--crit-bg);     color: #ff6b6b;         border: 1px solid #ff6b6b; }

/* ── Dashboard Cards ────────────────────────────────────────────── */
.sf-cards {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 1rem;
  margin: 1.5rem 0;
}
.sf-card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--r);
  padding: 1.2rem;
  transition: border-color var(--transition);
}
.sf-card:hover { border-color: var(--accent-dim); }
.sf-card__label {
  font-family: var(--font-mono);
  font-size: 0.6rem;
  color: var(--text-muted);
  letter-spacing: 0.1em;
  text-transform: uppercase;
  margin-bottom: 0.4rem;
}
.sf-card__value {
  font-family: var(--font-mono);
  font-size: 1.8rem;
  font-weight: 500;
  line-height: 1.1;
}
.sf-card__value--critical { color: var(--crit); }
.sf-card__value--warn     { color: var(--warn); }
.sf-card__value--ok       { color: var(--ok); }
.sf-card__value--muted    { color: var(--text-dim); }
.sf-card__sub {
  font-family: var(--font-mono);
  font-size: 0.65rem;
  color: var(--text-muted);
  margin-top: 0.3rem;
}
.sf-card__threshold {
  font-family: var(--font-mono);
  font-size: 0.6rem;
  color: var(--text-muted);
  margin-top: 0.6rem;
  padding-top: 0.5rem;
  border-top: 1px solid var(--border);
}

/* ── Alert boxes ─────────────────────────────────────────────────── */
.sf-alert {
  border-radius: var(--r);
  padding: 1rem 1.2rem;
  margin: 1.2rem 0;
  border-left: 3px solid;
}
.sf-alert--emergency {
  background: var(--crit-bg);
  border-color: var(--crit);
  color: #ff9a9a;
}
.sf-alert--info {
  background: var(--opaque-bg);
  border-color: var(--opaque);
  color: #9ab4d4;
}
.sf-alert--warn {
  background: var(--warn-bg);
  border-color: var(--warn);
  color: #c4a06a;
}

/* ── Gauge / Progress ─────────────────────────────────────────────── */
.sf-gauge-wrap { margin: 0.4rem 0; }
.sf-gauge-bar {
  height: 4px;
  background: var(--border);
  border-radius: 2px;
  overflow: hidden;
}
.sf-gauge-fill {
  height: 100%;
  border-radius: 2px;
  transition: width 0.6s ease;
}

/* ── Download section ─────────────────────────────────────────────── */
.sf-downloads {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--r);
  padding: 1.2rem;
  margin: 1.5rem 0;
}
.sf-downloads h3 {
  font-family: var(--font-mono);
  font-size: 0.7rem;
  color: var(--accent);
  letter-spacing: 0.08em;
  text-transform: uppercase;
  margin-bottom: 0.8rem;
  border: none;
}
.sf-download-link {
  display: flex;
  align-items: center;
  gap: 0.8rem;
  padding: 0.5rem 0;
  border-bottom: 1px solid var(--border);
  text-decoration: none;
  color: var(--text-dim);
  transition: color var(--transition);
}
.sf-download-link:last-child { border-bottom: none; }
.sf-download-link:hover { color: var(--accent); }
.sf-download-link__icon {
  font-family: var(--font-mono);
  font-size: 0.65rem;
  color: var(--accent-dim);
  width: 3rem;
  flex-shrink: 0;
}
.sf-download-link__name { font-size: 0.9rem; }
.sf-download-link__meta { font-family: var(--font-mono); font-size: 0.6rem; color: var(--text-muted); margin-left: auto; }

/* ── Scenarios ────────────────────────────────────────────────────── */
.sf-scenarios {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 1rem;
  margin: 1.2rem 0;
}
.sf-scenario {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--r);
  padding: 1rem;
}
.sf-scenario__id {
  font-family: var(--font-mono);
  font-size: 0.6rem;
  color: var(--text-muted);
  margin-bottom: 0.3rem;
}
.sf-scenario__label {
  font-size: 0.9rem;
  font-weight: 500;
  color: var(--text);
  margin-bottom: 0.3rem;
}
.sf-scenario__prob {
  font-family: var(--font-mono);
  font-size: 1.4rem;
  color: var(--accent);
}
.sf-scenario__desc {
  font-size: 0.8rem;
  color: var(--text-dim);
  margin-top: 0.4rem;
  line-height: 1.4;
}

/* ── Footer ──────────────────────────────────────────────────────── */
.sf-footer {
  border-top: 1px solid var(--border);
  padding: 2rem 0;
  margin-top: 4rem;
  font-family: var(--font-mono);
  font-size: 0.62rem;
  color: var(--text-muted);
  display: flex;
  justify-content: space-between;
  flex-wrap: wrap;
  gap: 0.5rem;
}

/* ── MathJax ──────────────────────────────────────────────────────── */
.MathJax { font-size: 1.05em !important; }

/* ── Loading ──────────────────────────────────────────────────────── */
.sf-loading {
  font-family: var(--font-mono);
  font-size: 0.75rem;
  color: var(--text-muted);
  padding: 2rem;
  text-align: center;
}

/* ── Responsive ───────────────────────────────────────────────────── */
@media (max-width: 640px) {
  .sf-container { padding: 0 1rem; }
  .sf-cards { grid-template-columns: 1fr 1fr; }
  .sf-header h1 { font-size: 1.5rem; }
  .audit-nav__ihg { display: none; }
}
